---
import FestivalHeader from "../components/FestivalHeader.astro";
import ScheduleApp from "../components/ScheduleApp";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getSitePayload } from "../lib/site-payload";
import "../styles/base.css";
import "../styles/timeline.css";

const {
  appShortName,
  appConfig,
  cssOverride,
  festivalDates,
  festivalName,
  footerDesktop,
  pageTitle,
  themeColor,
  touchHint,
} = getSitePayload(import.meta.env.PUBLIC_BUILD_ID);
---

<BaseLayout appShortName={appShortName} pageTitle={pageTitle} themeColor={themeColor}>
  <FestivalHeader festivalDates={festivalDates} festivalName={festivalName} />
  <ScheduleApp
    appConfig={appConfig}
    footerDesktop={footerDesktop}
    touchHint={touchHint}
    client:load
  />
  <style is:inline set:html={cssOverride}></style>
</BaseLayout>
